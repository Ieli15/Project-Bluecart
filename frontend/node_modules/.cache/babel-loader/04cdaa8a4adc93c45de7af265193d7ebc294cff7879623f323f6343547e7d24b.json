{"ast":null,"code":"var _jsxFileName = \"/home/ieli15/Development/code/phase-5/Project-Bluecart/frontend/src/components/ProductList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport ProductCard from './ProductCard';\nimport ComparisonTable from './ComparisonTable';\nimport { fetchProductOffers } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductList = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedProducts, setSelectedProducts] = useState([]);\n  const [showComparison, setShowComparison] = useState(false);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const asin = 'B09SM24S8C'; // Example ASIN, replace with dynamic input\n        const data = await fetchProductOffers(asin);\n        setProducts(data);\n      } catch (err) {\n        setError('Failed to fetch product offers.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Handle adding product to comparison\n  const handleAddToCompare = product => {\n    // Check if product is already in comparison\n    if (selectedProducts.some(p => p.title === product.title && p.store === product.store)) {\n      // Remove from comparison if already there\n      setSelectedProducts(selectedProducts.filter(p => !(p.title === product.title && p.store === product.store)));\n    } else {\n      // Add to comparison if not there (limit to 4 products)\n      if (selectedProducts.length < 4) {\n        setSelectedProducts([...selectedProducts, product]);\n      } else {\n        alert('You can compare up to 4 products at once');\n      }\n    }\n  };\n\n  // Clear comparison\n  const handleClearComparison = () => {\n    setSelectedProducts([]);\n    setShowComparison(false);\n  };\n\n  // Show comparison table\n  const handleShowComparison = () => {\n    if (selectedProducts.length < 2) {\n      alert('Please select at least 2 products to compare');\n      return;\n    }\n    setShowComparison(true);\n  };\n\n  // Hide comparison table\n  const handleHideComparison = () => {\n    setShowComparison(false);\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-list-container\",\n    children: [selectedProducts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comparison-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"selected-count\",\n        children: [selectedProducts.length, \" \", selectedProducts.length === 1 ? 'product' : 'products', \" selected\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comparison-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary compare-selected-btn\",\n          onClick: handleShowComparison,\n          disabled: selectedProducts.length < 2,\n          children: \"Compare Selected\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline-secondary clear-selected-btn\",\n          onClick: handleClearComparison,\n          children: \"Clear Selection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this), showComparison && /*#__PURE__*/_jsxDEV(ComparisonTable, {\n      products: selectedProducts,\n      onClose: handleHideComparison\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products-grid\",\n      children: products.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-products\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No products found. Try a different search.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this) : products.map((product, index) => /*#__PURE__*/_jsxDEV(ProductCard, {\n        product: product,\n        onCompare: handleAddToCompare,\n        isSelected: selectedProducts.some(p => p.title === product.title && p.store === product.store)\n      }, `${product.title}-${product.store}-${index}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductList, \"fxEqB4qJHBsIssZaKpf4Yk3+ijs=\");\n_c = ProductList;\nexport default ProductList;\nvar _c;\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"names":["React","useState","useEffect","ProductCard","ComparisonTable","fetchProductOffers","jsxDEV","_jsxDEV","ProductList","_s","products","setProducts","loading","setLoading","error","setError","selectedProducts","setSelectedProducts","showComparison","setShowComparison","fetchData","asin","data","err","handleAddToCompare","product","some","p","title","store","filter","length","alert","handleClearComparison","handleShowComparison","handleHideComparison","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","disabled","onClose","map","index","onCompare","isSelected","_c","$RefreshReg$"],"sources":["/home/ieli15/Development/code/phase-5/Project-Bluecart/frontend/src/components/ProductList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ProductCard from './ProductCard';\nimport ComparisonTable from './ComparisonTable';\nimport { fetchProductOffers } from '../services/api';\n\nconst ProductList = () => {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedProducts, setSelectedProducts] = useState([]);\n  const [showComparison, setShowComparison] = useState(false);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const asin = 'B09SM24S8C'; // Example ASIN, replace with dynamic input\n        const data = await fetchProductOffers(asin);\n        setProducts(data);\n      } catch (err) {\n        setError('Failed to fetch product offers.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  // Handle adding product to comparison\n  const handleAddToCompare = (product) => {\n    // Check if product is already in comparison\n    if (selectedProducts.some(p => p.title === product.title && p.store === product.store)) {\n      // Remove from comparison if already there\n      setSelectedProducts(selectedProducts.filter(\n        p => !(p.title === product.title && p.store === product.store)\n      ));\n    } else {\n      // Add to comparison if not there (limit to 4 products)\n      if (selectedProducts.length < 4) {\n        setSelectedProducts([...selectedProducts, product]);\n      } else {\n        alert('You can compare up to 4 products at once');\n      }\n    }\n  };\n\n  // Clear comparison\n  const handleClearComparison = () => {\n    setSelectedProducts([]);\n    setShowComparison(false);\n  };\n\n  // Show comparison table\n  const handleShowComparison = () => {\n    if (selectedProducts.length < 2) {\n      alert('Please select at least 2 products to compare');\n      return;\n    }\n    setShowComparison(true);\n  };\n\n  // Hide comparison table\n  const handleHideComparison = () => {\n    setShowComparison(false);\n  };\n\n  if (loading) return <div>Loading...</div>;\n  if (error) return <div>{error}</div>;\n\n  return (\n    <div className=\"product-list-container\">\n      {selectedProducts.length > 0 && (\n        <div className=\"comparison-controls\">\n          <div className=\"selected-count\">\n            {selectedProducts.length} {selectedProducts.length === 1 ? 'product' : 'products'} selected\n          </div>\n          <div className=\"comparison-buttons\">\n            <button \n              className=\"btn btn-primary compare-selected-btn\"\n              onClick={handleShowComparison}\n              disabled={selectedProducts.length < 2}\n            >\n              Compare Selected\n            </button>\n            <button\n              className=\"btn btn-outline-secondary clear-selected-btn\"\n              onClick={handleClearComparison}\n            >\n              Clear Selection\n            </button>\n          </div>\n        </div>\n      )}\n      \n      {showComparison && (\n        <ComparisonTable \n          products={selectedProducts}\n          onClose={handleHideComparison}\n        />\n      )}\n      \n      <div className=\"products-grid\">\n        {products.length === 0 ? (\n          <div className=\"no-products\">\n            <i className=\"fas fa-search\"></i>\n            <p>No products found. Try a different search.</p>\n          </div>\n        ) : (\n          products.map((product, index) => (\n            <ProductCard \n              key={`${product.title}-${product.store}-${index}`}\n              product={product}\n              onCompare={handleAddToCompare}\n              isSelected={selectedProducts.some(\n                p => p.title === product.title && p.store === product.store\n              )}\n            />\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProductList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}