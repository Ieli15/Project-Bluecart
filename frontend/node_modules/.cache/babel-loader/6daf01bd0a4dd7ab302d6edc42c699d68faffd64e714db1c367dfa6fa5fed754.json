{"ast":null,"code":"import React,{useState}from'react';import ProductCard from'./ProductCard';import ComparisonTable from'./ComparisonTable';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const ProductList=_ref=>{let{products}=_ref;const[selectedProducts,setSelectedProducts]=useState([]);const[showComparison,setShowComparison]=useState(false);// Handle adding product to comparison\nconst handleAddToCompare=product=>{// Check if product is already in comparison\nif(selectedProducts.some(p=>p.title===product.title&&p.store===product.store)){// Remove from comparison if already there\nsetSelectedProducts(selectedProducts.filter(p=>!(p.title===product.title&&p.store===product.store)));}else{// Add to comparison if not there (limit to 4 products)\nif(selectedProducts.length<4){setSelectedProducts([...selectedProducts,product]);}else{alert('You can compare up to 4 products at once');}}};// Clear comparison\nconst handleClearComparison=()=>{setSelectedProducts([]);setShowComparison(false);};// Show comparison table\nconst handleShowComparison=()=>{if(selectedProducts.length<2){alert('Please select at least 2 products to compare');return;}setShowComparison(true);};// Hide comparison table\nconst handleHideComparison=()=>{setShowComparison(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-list-container\",children:[selectedProducts.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"comparison-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"selected-count\",children:[selectedProducts.length,\" \",selectedProducts.length===1?'product':'products',\" selected\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"comparison-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary compare-selected-btn\",onClick:handleShowComparison,disabled:selectedProducts.length<2,children:\"Compare Selected\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary clear-selected-btn\",onClick:handleClearComparison,children:\"Clear Selection\"})]})]}),showComparison&&/*#__PURE__*/_jsx(ComparisonTable,{products:selectedProducts,onClose:handleHideComparison}),/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:products.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"no-products\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No products found. Try a different search.\"})]}):products.map((product,index)=>/*#__PURE__*/_jsx(ProductCard,{product:product,onCompare:handleAddToCompare,isSelected:selectedProducts.some(p=>p.title===product.title&&p.store===product.store)},`${product.title}-${product.store}-${index}`))})]});};export default ProductList;","map":{"version":3,"names":["React","useState","ProductCard","ComparisonTable","jsxs","_jsxs","jsx","_jsx","ProductList","_ref","products","selectedProducts","setSelectedProducts","showComparison","setShowComparison","handleAddToCompare","product","some","p","title","store","filter","length","alert","handleClearComparison","handleShowComparison","handleHideComparison","className","children","onClick","disabled","onClose","map","index","onCompare","isSelected"],"sources":["/home/ieli15/Development/another_marketplace/frontend/src/components/ProductList.js"],"sourcesContent":["import React, { useState } from 'react';\nimport ProductCard from './ProductCard';\nimport ComparisonTable from './ComparisonTable';\n\nconst ProductList = ({ products }) => {\n  const [selectedProducts, setSelectedProducts] = useState([]);\n  const [showComparison, setShowComparison] = useState(false);\n\n  // Handle adding product to comparison\n  const handleAddToCompare = (product) => {\n    // Check if product is already in comparison\n    if (selectedProducts.some(p => p.title === product.title && p.store === product.store)) {\n      // Remove from comparison if already there\n      setSelectedProducts(selectedProducts.filter(\n        p => !(p.title === product.title && p.store === product.store)\n      ));\n    } else {\n      // Add to comparison if not there (limit to 4 products)\n      if (selectedProducts.length < 4) {\n        setSelectedProducts([...selectedProducts, product]);\n      } else {\n        alert('You can compare up to 4 products at once');\n      }\n    }\n  };\n\n  // Clear comparison\n  const handleClearComparison = () => {\n    setSelectedProducts([]);\n    setShowComparison(false);\n  };\n\n  // Show comparison table\n  const handleShowComparison = () => {\n    if (selectedProducts.length < 2) {\n      alert('Please select at least 2 products to compare');\n      return;\n    }\n    setShowComparison(true);\n  };\n\n  // Hide comparison table\n  const handleHideComparison = () => {\n    setShowComparison(false);\n  };\n\n  return (\n    <div className=\"product-list-container\">\n      {selectedProducts.length > 0 && (\n        <div className=\"comparison-controls\">\n          <div className=\"selected-count\">\n            {selectedProducts.length} {selectedProducts.length === 1 ? 'product' : 'products'} selected\n          </div>\n          <div className=\"comparison-buttons\">\n            <button \n              className=\"btn btn-primary compare-selected-btn\"\n              onClick={handleShowComparison}\n              disabled={selectedProducts.length < 2}\n            >\n              Compare Selected\n            </button>\n            <button\n              className=\"btn btn-outline-secondary clear-selected-btn\"\n              onClick={handleClearComparison}\n            >\n              Clear Selection\n            </button>\n          </div>\n        </div>\n      )}\n      \n      {showComparison && (\n        <ComparisonTable \n          products={selectedProducts}\n          onClose={handleHideComparison}\n        />\n      )}\n      \n      <div className=\"products-grid\">\n        {products.length === 0 ? (\n          <div className=\"no-products\">\n            <i className=\"fas fa-search\"></i>\n            <p>No products found. Try a different search.</p>\n          </div>\n        ) : (\n          products.map((product, index) => (\n            <ProductCard \n              key={`${product.title}-${product.store}-${index}`}\n              product={product}\n              onCompare={handleAddToCompare}\n              isSelected={selectedProducts.some(\n                p => p.title === product.title && p.store === product.store\n              )}\n            />\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProductList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}