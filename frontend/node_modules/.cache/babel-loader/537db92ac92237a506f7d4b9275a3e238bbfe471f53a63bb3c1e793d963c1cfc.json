{"ast":null,"code":"import React,{useState}from'react';import ProductCard from'./ProductCard';import ComparisonTable from'./ComparisonTable';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const ProductList=_ref=>{let{products}=_ref;const[selectedProducts,setSelectedProducts]=useState([]);const[showComparison,setShowComparison]=useState(false);const[currentPage,setCurrentPage]=useState(1);const itemsPerPage=10;const totalPages=Math.ceil(products.length/itemsPerPage);const startIndex=(currentPage-1)*itemsPerPage;const currentProducts=products.slice(startIndex,startIndex+itemsPerPage);// Handle adding product to comparison\nconst handleAddToCompare=product=>{// Check if product is already in comparison\nif(selectedProducts.some(p=>p.title===product.title&&p.store===product.store)){// Remove from comparison if already there\nsetSelectedProducts(selectedProducts.filter(p=>!(p.title===product.title&&p.store===product.store)));}else{// Add to comparison if not there (limit to 4 products)\nif(selectedProducts.length<4){setSelectedProducts([...selectedProducts,product]);}else{alert('You can compare up to 4 products at once');}}};// Clear comparison\nconst handleClearComparison=()=>{setSelectedProducts([]);setShowComparison(false);};// Show comparison table\nconst handleShowComparison=()=>{if(selectedProducts.length<2){alert('Please select at least 2 products to compare');return;}setShowComparison(true);};// Hide comparison table\nconst handleHideComparison=()=>{setShowComparison(false);};const handleNextPage=()=>{if(currentPage<totalPages){setCurrentPage(currentPage+1);}};const handlePreviousPage=()=>{if(currentPage>1){setCurrentPage(currentPage-1);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-list-container\",children:[selectedProducts.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"comparison-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"selected-count\",children:[selectedProducts.length,\" \",selectedProducts.length===1?'product':'products',\" selected\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"comparison-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary compare-selected-btn\",onClick:handleShowComparison,disabled:selectedProducts.length<2,children:\"Compare Selected\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary clear-selected-btn\",onClick:handleClearComparison,children:\"Clear Selection\"})]})]}),showComparison&&/*#__PURE__*/_jsx(ComparisonTable,{products:selectedProducts,onClose:handleHideComparison}),/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:currentProducts.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"no-products\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-search\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No products found. Try a different search.\"})]}):currentProducts.map((product,index)=>/*#__PURE__*/_jsx(ProductCard,{product:product,onCompare:handleAddToCompare,isSelected:selectedProducts.some(p=>p.title===product.title&&p.store===product.store)},`${product.title}-${product.store}-${index}`))}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination-controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handlePreviousPage,disabled:currentPage===1,children:\"Previous\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Page \",currentPage,\" of \",totalPages]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNextPage,disabled:currentPage===totalPages,children:\"Next\"})]})]});};export default ProductList;","map":{"version":3,"names":["React","useState","ProductCard","ComparisonTable","jsxs","_jsxs","jsx","_jsx","ProductList","_ref","products","selectedProducts","setSelectedProducts","showComparison","setShowComparison","currentPage","setCurrentPage","itemsPerPage","totalPages","Math","ceil","length","startIndex","currentProducts","slice","handleAddToCompare","product","some","p","title","store","filter","alert","handleClearComparison","handleShowComparison","handleHideComparison","handleNextPage","handlePreviousPage","className","children","onClick","disabled","onClose","map","index","onCompare","isSelected"],"sources":["/home/ieli15/Development/code/phase-5/Project-Bluecart/frontend/src/components/ProductList.js"],"sourcesContent":["import React, { useState } from 'react';\nimport ProductCard from './ProductCard';\nimport ComparisonTable from './ComparisonTable';\n\nconst ProductList = ({ products }) => {\n  const [selectedProducts, setSelectedProducts] = useState([]);\n  const [showComparison, setShowComparison] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 10;\n\n  const totalPages = Math.ceil(products.length / itemsPerPage);\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const currentProducts = products.slice(startIndex, startIndex + itemsPerPage);\n\n  // Handle adding product to comparison\n  const handleAddToCompare = (product) => {\n    // Check if product is already in comparison\n    if (selectedProducts.some(p => p.title === product.title && p.store === product.store)) {\n      // Remove from comparison if already there\n      setSelectedProducts(selectedProducts.filter(\n        p => !(p.title === product.title && p.store === product.store)\n      ));\n    } else {\n      // Add to comparison if not there (limit to 4 products)\n      if (selectedProducts.length < 4) {\n        setSelectedProducts([...selectedProducts, product]);\n      } else {\n        alert('You can compare up to 4 products at once');\n      }\n    }\n  };\n\n  // Clear comparison\n  const handleClearComparison = () => {\n    setSelectedProducts([]);\n    setShowComparison(false);\n  };\n\n  // Show comparison table\n  const handleShowComparison = () => {\n    if (selectedProducts.length < 2) {\n      alert('Please select at least 2 products to compare');\n      return;\n    }\n    setShowComparison(true);\n  };\n\n  // Hide comparison table\n  const handleHideComparison = () => {\n    setShowComparison(false);\n  };\n\n  const handleNextPage = () => {\n    if (currentPage < totalPages) {\n      setCurrentPage(currentPage + 1);\n    }\n  };\n\n  const handlePreviousPage = () => {\n    if (currentPage > 1) {\n      setCurrentPage(currentPage - 1);\n    }\n  };\n\n  return (\n    <div className=\"product-list-container\">\n      {selectedProducts.length > 0 && (\n        <div className=\"comparison-controls\">\n          <div className=\"selected-count\">\n            {selectedProducts.length} {selectedProducts.length === 1 ? 'product' : 'products'} selected\n          </div>\n          <div className=\"comparison-buttons\">\n            <button \n              className=\"btn btn-primary compare-selected-btn\"\n              onClick={handleShowComparison}\n              disabled={selectedProducts.length < 2}\n            >\n              Compare Selected\n            </button>\n            <button\n              className=\"btn btn-outline-secondary clear-selected-btn\"\n              onClick={handleClearComparison}\n            >\n              Clear Selection\n            </button>\n          </div>\n        </div>\n      )}\n      \n      {showComparison && (\n        <ComparisonTable \n          products={selectedProducts}\n          onClose={handleHideComparison}\n        />\n      )}\n      \n      <div className=\"products-grid\">\n        {currentProducts.length === 0 ? (\n          <div className=\"no-products\">\n            <i className=\"fas fa-search\"></i>\n            <p>No products found. Try a different search.</p>\n          </div>\n        ) : (\n          currentProducts.map((product, index) => (\n            <ProductCard \n              key={`${product.title}-${product.store}-${index}`}\n              product={product}\n              onCompare={handleAddToCompare}\n              isSelected={selectedProducts.some(\n                p => p.title === product.title && p.store === product.store\n              )}\n            />\n          ))\n        )}\n      </div>\n      <div className=\"pagination-controls\">\n        <button onClick={handlePreviousPage} disabled={currentPage === 1}>\n          Previous\n        </button>\n        <span>Page {currentPage} of {totalPages}</span>\n        <button onClick={handleNextPage} disabled={currentPage === totalPages}>\n          Next\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductList;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAEhD,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC/B,KAAM,CAACE,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACY,cAAc,CAAEC,iBAAiB,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAC3D,KAAM,CAACc,WAAW,CAAEC,cAAc,CAAC,CAAGf,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAAAgB,YAAY,CAAG,EAAE,CAEvB,KAAM,CAAAC,UAAU,CAAGC,IAAI,CAACC,IAAI,CAACV,QAAQ,CAACW,MAAM,CAAGJ,YAAY,CAAC,CAC5D,KAAM,CAAAK,UAAU,CAAG,CAACP,WAAW,CAAG,CAAC,EAAIE,YAAY,CACnD,KAAM,CAAAM,eAAe,CAAGb,QAAQ,CAACc,KAAK,CAACF,UAAU,CAAEA,UAAU,CAAGL,YAAY,CAAC,CAE7E;AACA,KAAM,CAAAQ,kBAAkB,CAAIC,OAAO,EAAK,CACtC;AACA,GAAIf,gBAAgB,CAACgB,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACC,KAAK,GAAKH,OAAO,CAACG,KAAK,EAAID,CAAC,CAACE,KAAK,GAAKJ,OAAO,CAACI,KAAK,CAAC,CAAE,CACtF;AACAlB,mBAAmB,CAACD,gBAAgB,CAACoB,MAAM,CACzCH,CAAC,EAAI,EAAEA,CAAC,CAACC,KAAK,GAAKH,OAAO,CAACG,KAAK,EAAID,CAAC,CAACE,KAAK,GAAKJ,OAAO,CAACI,KAAK,CAC/D,CAAC,CAAC,CACJ,CAAC,IAAM,CACL;AACA,GAAInB,gBAAgB,CAACU,MAAM,CAAG,CAAC,CAAE,CAC/BT,mBAAmB,CAAC,CAAC,GAAGD,gBAAgB,CAAEe,OAAO,CAAC,CAAC,CACrD,CAAC,IAAM,CACLM,KAAK,CAAC,0CAA0C,CAAC,CACnD,CACF,CACF,CAAC,CAED;AACA,KAAM,CAAAC,qBAAqB,CAAGA,CAAA,GAAM,CAClCrB,mBAAmB,CAAC,EAAE,CAAC,CACvBE,iBAAiB,CAAC,KAAK,CAAC,CAC1B,CAAC,CAED;AACA,KAAM,CAAAoB,oBAAoB,CAAGA,CAAA,GAAM,CACjC,GAAIvB,gBAAgB,CAACU,MAAM,CAAG,CAAC,CAAE,CAC/BW,KAAK,CAAC,8CAA8C,CAAC,CACrD,OACF,CACAlB,iBAAiB,CAAC,IAAI,CAAC,CACzB,CAAC,CAED;AACA,KAAM,CAAAqB,oBAAoB,CAAGA,CAAA,GAAM,CACjCrB,iBAAiB,CAAC,KAAK,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAsB,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAIrB,WAAW,CAAGG,UAAU,CAAE,CAC5BF,cAAc,CAACD,WAAW,CAAG,CAAC,CAAC,CACjC,CACF,CAAC,CAED,KAAM,CAAAsB,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,GAAItB,WAAW,CAAG,CAAC,CAAE,CACnBC,cAAc,CAACD,WAAW,CAAG,CAAC,CAAC,CACjC,CACF,CAAC,CAED,mBACEV,KAAA,QAAKiC,SAAS,CAAC,wBAAwB,CAAAC,QAAA,EACpC5B,gBAAgB,CAACU,MAAM,CAAG,CAAC,eAC1BhB,KAAA,QAAKiC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClClC,KAAA,QAAKiC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAC5B5B,gBAAgB,CAACU,MAAM,CAAC,GAAC,CAACV,gBAAgB,CAACU,MAAM,GAAK,CAAC,CAAG,SAAS,CAAG,UAAU,CAAC,WACpF,EAAK,CAAC,cACNhB,KAAA,QAAKiC,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjChC,IAAA,WACE+B,SAAS,CAAC,sCAAsC,CAChDE,OAAO,CAAEN,oBAAqB,CAC9BO,QAAQ,CAAE9B,gBAAgB,CAACU,MAAM,CAAG,CAAE,CAAAkB,QAAA,CACvC,kBAED,CAAQ,CAAC,cACThC,IAAA,WACE+B,SAAS,CAAC,8CAA8C,CACxDE,OAAO,CAAEP,qBAAsB,CAAAM,QAAA,CAChC,iBAED,CAAQ,CAAC,EACN,CAAC,EACH,CACN,CAEA1B,cAAc,eACbN,IAAA,CAACJ,eAAe,EACdO,QAAQ,CAAEC,gBAAiB,CAC3B+B,OAAO,CAAEP,oBAAqB,CAC/B,CACF,cAED5B,IAAA,QAAK+B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3BhB,eAAe,CAACF,MAAM,GAAK,CAAC,cAC3BhB,KAAA,QAAKiC,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1BhC,IAAA,MAAG+B,SAAS,CAAC,eAAe,CAAI,CAAC,cACjC/B,IAAA,MAAAgC,QAAA,CAAG,4CAA0C,CAAG,CAAC,EAC9C,CAAC,CAENhB,eAAe,CAACoB,GAAG,CAAC,CAACjB,OAAO,CAAEkB,KAAK,gBACjCrC,IAAA,CAACL,WAAW,EAEVwB,OAAO,CAAEA,OAAQ,CACjBmB,SAAS,CAAEpB,kBAAmB,CAC9BqB,UAAU,CAAEnC,gBAAgB,CAACgB,IAAI,CAC/BC,CAAC,EAAIA,CAAC,CAACC,KAAK,GAAKH,OAAO,CAACG,KAAK,EAAID,CAAC,CAACE,KAAK,GAAKJ,OAAO,CAACI,KACxD,CAAE,EALG,GAAGJ,OAAO,CAACG,KAAK,IAAIH,OAAO,CAACI,KAAK,IAAIc,KAAK,EAMhD,CACF,CACF,CACE,CAAC,cACNvC,KAAA,QAAKiC,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClChC,IAAA,WAAQiC,OAAO,CAAEH,kBAAmB,CAACI,QAAQ,CAAE1B,WAAW,GAAK,CAAE,CAAAwB,QAAA,CAAC,UAElE,CAAQ,CAAC,cACTlC,KAAA,SAAAkC,QAAA,EAAM,OAAK,CAACxB,WAAW,CAAC,MAAI,CAACG,UAAU,EAAO,CAAC,cAC/CX,IAAA,WAAQiC,OAAO,CAAEJ,cAAe,CAACK,QAAQ,CAAE1B,WAAW,GAAKG,UAAW,CAAAqB,QAAA,CAAC,MAEvE,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA/B,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}